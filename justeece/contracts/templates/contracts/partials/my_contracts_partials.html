{% load staticfiles %}
<div class="search-box">
    <div class="form-group">
        <input id="contract-search" type="text" class="form-control"  placeholder="Search contract">
    </div>
    <p><span>{{contracts.count}}</span> in total</p>
</div>



<table class="table" aria-describedby="mysdesc">
  <th scope=""></th>
  <tbody id="table" class="contracts_table">
      {% for contract in contracts %}
      <tr>
        <td>
            <a href="{% url 'contracts:contract-detail' contract.id %}">
            <p class="service">
              {{contract.contract_name}}
            </p>
            <!-- <p class="service">
                <span class="new">New</span>
              </p> -->
            <p class="date">
              {{contract.contract_start_date}} - {{contract.contract_end_date}}
            </p>
            </a>
        </td>
        <td>
        {% if contract.amount %}
            ${{contract.amount}} Budget
        {% endif %}
        {% if contract.get_status_display == "Pending" %}
        <div class="status pending">
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0)">
                <g clip-path="url(#clip1)">
                <path d="M1.11328 11C1.11328 6.37554 4.87554 2.61328 9.5 2.61328C11.2392 2.61328 12.8978 3.14064 14.2944 4.11944H13.2155C12.908 4.11944 12.6588 4.36867 12.6588 4.67608C12.6588 4.98349 12.908 5.23272 13.2155 5.23272H15.824C16.1314 5.23272 16.3806 4.98349 16.3806 4.67608V2.06759C16.3806 1.76017 16.1314 1.51095 15.824 1.51095C15.5165 1.51095 15.2673 1.76017 15.2673 2.06759V3.45321C13.6187 2.18649 11.6119 1.5 9.5 1.5C6.96246 1.5 4.57681 2.48819 2.78246 4.28246C0.988186 6.07681 0 8.46246 0 11C0 12.667 0.440525 14.3095 1.27396 15.7499C1.37713 15.9283 1.56409 16.0279 1.75628 16.0279C1.8509 16.0279 1.94679 16.0037 2.03456 15.9529C2.30063 15.799 2.39151 15.4585 2.23758 15.1924C1.50208 13.9212 1.11328 12.4715 1.11328 11Z" fill="#FD9800"/>
                <path d="M17.7257 6.24961C17.5717 5.9835 17.2311 5.89266 16.9651 6.04663C16.6991 6.20059 16.6082 6.54111 16.7621 6.80722C17.4976 8.07833 17.8864 9.52801 17.8864 10.9995C17.8864 15.624 14.1242 19.3863 9.4997 19.3863C7.76064 19.3863 6.1023 18.8588 4.70591 17.8801H5.78424C6.09165 17.8801 6.34088 17.6309 6.34088 17.3235C6.34088 17.016 6.09165 16.7668 5.78424 16.7668H3.17578C2.86837 16.7668 2.61914 17.016 2.61914 17.3235V19.932C2.61914 20.2394 2.86837 20.4886 3.17578 20.4886C3.4832 20.4886 3.73242 20.2394 3.73242 19.932V18.545C5.38104 19.8121 7.38755 20.4995 9.4997 20.4995C12.0372 20.4995 14.4229 19.5114 16.2172 17.7171C18.0115 15.9227 18.9997 13.5371 18.9997 10.9995C18.9997 9.33248 18.5592 7.68998 17.7257 6.24961Z" fill="#FD9800"/>
                <g clip-path="url(#clip2)">
                <path d="M7.89539 13.5291C7.89251 13.5323 7.88964 13.5354 7.88682 13.5386C7.71391 13.7299 7.84646 14.041 8.10052 14.041H10.9004C11.1545 14.041 11.2871 13.7299 11.1142 13.5386C11.1113 13.5355 11.1085 13.5323 11.1056 13.5291C10.8456 13.2433 9.86711 12.394 9.85451 12.3828C9.65077 12.2031 9.35021 12.2031 9.14648 12.3828C9.13389 12.394 8.15536 13.2433 7.89539 13.5291Z" fill="#FD9800"/>
                <path d="M10.8638 10.7346C10.9469 10.6617 11.0421 10.5812 11.1428 10.4959C11.8857 9.86679 12.9032 9.00522 12.9032 8.09961V7.55469C12.9032 6.97313 12.4335 6.5 11.8562 6.5H7.14466C6.56734 6.5 6.09766 6.97313 6.09766 7.55469V8.09961C6.09766 9.00522 7.11514 9.86679 7.85808 10.4959C7.9588 10.5812 8.05392 10.6617 8.13711 10.7346C8.21614 10.8039 8.26147 10.9006 8.26147 11C8.26147 11.0994 8.21616 11.1961 8.13711 11.2654C8.05392 11.3383 7.9588 11.4188 7.85808 11.5041C7.11514 12.1332 6.09766 12.9948 6.09766 13.9004V14.4453C6.09766 15.0269 6.56734 15.5 7.14466 15.5H11.8562C12.4335 15.5 12.9032 15.0269 12.9032 14.4453C12.9032 14.2511 12.747 14.0938 12.5542 14.0938C12.3615 14.0938 12.2052 14.2511 12.2052 14.4453C12.2052 14.6392 12.0486 14.7969 11.8562 14.7969H7.14466C6.95222 14.7969 6.79566 14.6392 6.79566 14.4453V13.9004C6.79566 13.3223 7.74188 12.5211 8.30721 12.0423C8.41025 11.9551 8.50759 11.8726 8.59524 11.7958C8.82672 11.593 8.95948 11.3029 8.95948 11C8.95948 10.6971 8.82672 10.407 8.59526 10.2042C8.50761 10.1274 8.41027 10.0449 8.30723 9.95767C7.74188 9.47895 6.79566 8.67772 6.79566 8.09961V7.55469C6.79566 7.36084 6.95222 7.20312 7.14466 7.20312H11.8562C12.0486 7.20312 12.2052 7.36084 12.2052 7.55469V8.09961C12.2052 8.67772 11.259 9.47895 10.6937 9.95767C10.5906 10.0449 10.4933 10.1273 10.4056 10.2042C10.1741 10.407 10.0414 10.6971 10.0414 11C10.0414 11.3029 10.1741 11.593 10.4056 11.7958C10.497 11.8759 10.5987 11.9617 10.7065 12.0525C11.046 12.3388 11.4309 12.6633 11.7346 13.0086C11.8625 13.1539 12.083 13.1673 12.2273 13.0385C12.3715 12.9097 12.3848 12.6875 12.257 12.5422C11.9187 12.1578 11.495 11.8005 11.1545 11.5134C11.0494 11.4247 10.9501 11.341 10.8638 11.2654C10.7847 11.1961 10.7394 11.0994 10.7394 11C10.7394 10.9006 10.7847 10.8039 10.8638 10.7346Z" fill="#FD9800"/>
                <path d="M9.86931 9.75608C9.87548 9.75055 10.1141 9.53975 10.3858 9.29251C10.5987 9.09875 10.4676 8.73242 10.1853 8.73242H8.84886C8.56659 8.73242 8.43551 9.09875 8.64843 9.29251C8.92011 9.53977 9.1587 9.75055 9.16487 9.75608C9.36757 9.93807 9.66659 9.93807 9.86931 9.75608Z" fill="#FD9800"/>
                </g>
                </g>
                </g>
                <defs>
                <clipPath id="clip0">
                <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                </clipPath>
                <clipPath id="clip1">
                <rect width="19" height="19" fill="white" transform="translate(0 1.5)"/>
                </clipPath>
                <clipPath id="clip2">
                <rect width="7" height="9" fill="white" transform="translate(6 6.5)"/>
                </clipPath>
                </defs>
                </svg>
            Pending 
        </div>
        {% elif contract.get_status_display == "Cancelled" %}
        <div class="status canceled">
            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M9.5 0C4.24932 0 0 4.24891 0 9.5C0 14.7507 4.24891 19 9.5 19C14.7507 19 19 14.7511 19 9.5C19 4.24928 14.7511 0 9.5 0ZM9.5 17.5156C5.06973 17.5156 1.48438 13.9306 1.48438 9.5C1.48438 5.0697 5.0694 1.48438 9.5 1.48438C13.9303 1.48438 17.5156 5.0694 17.5156 9.5C17.5156 13.9303 13.9306 17.5156 9.5 17.5156Z" fill="#FF495C"/>
                <path d="M12.7502 11.7005L10.5495 9.49989L12.7502 7.29923C13.04 7.0094 13.04 6.53948 12.7502 6.24962C12.4603 5.95976 11.9904 5.9598 11.7006 6.24962L9.49991 8.45029L7.29921 6.24962C7.00942 5.95976 6.53943 5.95976 6.2496 6.24962C5.95978 6.53948 5.95978 7.0094 6.24964 7.29923L8.4503 9.49989L6.24964 11.7005C5.95978 11.9904 5.95974 12.4603 6.2496 12.7502C6.53954 13.0401 7.00946 13.0399 7.29921 12.7502L9.49991 10.5495L11.7006 12.7502C11.9904 13.04 12.4603 13.04 12.7502 12.7502C13.0401 12.4603 13.04 11.9904 12.7502 11.7005Z" fill="#FF495C"/>
                </svg>
                Canceled
          </div>
          {% elif contract.get_status_display == "In Progress" %}
          <div class="status">
            <svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0)">
                <g clip-path="url(#clip1)">
                <path d="M1.11328 11C1.11328 6.37554 4.87554 2.61328 9.5 2.61328C11.2392 2.61328 12.8978 3.14064 14.2944 4.11944H13.2155C12.908 4.11944 12.6588 4.36867 12.6588 4.67608C12.6588 4.98349 12.908 5.23272 13.2155 5.23272H15.824C16.1314 5.23272 16.3806 4.98349 16.3806 4.67608V2.06759C16.3806 1.76017 16.1314 1.51095 15.824 1.51095C15.5165 1.51095 15.2673 1.76017 15.2673 2.06759V3.45321C13.6187 2.18649 11.6119 1.5 9.5 1.5C6.96246 1.5 4.57681 2.48819 2.78246 4.28246C0.988186 6.07681 0 8.46246 0 11C0 12.667 0.440525 14.3095 1.27396 15.7499C1.37713 15.9283 1.56409 16.0279 1.75628 16.0279C1.8509 16.0279 1.94679 16.0037 2.03456 15.9529C2.30063 15.799 2.39151 15.4585 2.23758 15.1924C1.50208 13.9212 1.11328 12.4715 1.11328 11Z" fill="#27AE60"/>
                <path d="M17.7257 6.25059C17.5717 5.98448 17.2311 5.89364 16.9651 6.0476C16.6991 6.20157 16.6082 6.54209 16.7621 6.8082C17.4976 8.0793 17.8864 9.52898 17.8864 11.0005C17.8864 15.625 14.1242 19.3872 9.4997 19.3872C7.76064 19.3872 6.1023 18.8597 4.70591 17.8811H5.78424C6.09165 17.8811 6.34088 17.6319 6.34088 17.3244C6.34088 17.017 6.09165 16.7678 5.78424 16.7678H3.17578C2.86837 16.7678 2.61914 17.017 2.61914 17.3244V19.9329C2.61914 20.2403 2.86837 20.4896 3.17578 20.4896C3.4832 20.4896 3.73242 20.2403 3.73242 19.9329V18.5459C5.38104 19.8131 7.38755 20.5005 9.4997 20.5005C12.0372 20.5005 14.4229 19.5123 16.2172 17.7181C18.0115 15.9237 18.9997 13.5381 18.9997 11.0005C18.9997 9.33345 18.5592 7.69095 17.7257 6.25059Z" fill="#27AE60"/>
                <path d="M14.451 9.88163C14.4892 9.73902 14.4692 9.5871 14.3953 9.45926L13.2821 7.53098C13.2083 7.40314 13.0866 7.30984 12.9441 7.27162C12.8015 7.23344 12.6495 7.2534 12.5217 7.32725L11.888 7.69311C11.6626 7.52961 11.4227 7.39059 11.17 7.27715V6.54688C11.17 6.23946 10.9208 5.99023 10.6134 5.99023H8.38682C8.0794 5.99023 7.83018 6.23946 7.83018 6.54688V7.27711C7.57746 7.39059 7.33759 7.52957 7.11218 7.69307L6.47851 7.32721C6.35066 7.25336 6.19859 7.23336 6.05613 7.27158C5.91351 7.30977 5.79194 7.40306 5.71813 7.53094L4.60485 9.45922C4.53104 9.58706 4.51104 9.73902 4.54923 9.8816C4.58745 10.0242 4.68074 10.1458 4.80858 10.2196L5.43918 10.5836C5.42512 10.7219 5.41807 10.861 5.41807 11C5.41807 11.139 5.42512 11.2781 5.43918 11.4163L4.80858 11.7803C4.68074 11.8541 4.58745 11.9758 4.54923 12.1183C4.51104 12.2609 4.53104 12.4129 4.60485 12.5407L5.71813 14.469C5.79194 14.5968 5.91355 14.6901 6.05613 14.7283C6.19877 14.7666 6.3507 14.7466 6.47851 14.6727L7.11218 14.3069C7.33755 14.4704 7.57746 14.6094 7.83018 14.7228V15.4531C7.83018 15.7605 8.0794 16.0098 8.38682 16.0098H10.6134C10.9208 16.0098 11.17 15.7605 11.17 15.4531V14.7229C11.4227 14.6094 11.6626 14.4704 11.888 14.3069L12.5217 14.6728C12.6495 14.7466 12.8015 14.7666 12.9441 14.7284C13.0867 14.6902 13.2083 14.5969 13.2821 14.4691L14.3953 12.5408C14.4692 12.4129 14.4892 12.261 14.451 12.1184C14.4127 11.9758 14.3195 11.8542 14.1916 11.7804L13.561 11.4164C13.5751 11.2781 13.5821 11.139 13.5821 11C13.5821 10.861 13.5751 10.7219 13.561 10.5837L14.1916 10.2197C14.3195 10.1458 14.4127 10.0242 14.451 9.88163ZM12.4088 10.4027C12.4486 10.598 12.4688 10.799 12.4688 11C12.4688 11.201 12.4486 11.402 12.4088 11.5973C12.3608 11.832 12.4684 12.071 12.6758 12.1908L13.1529 12.4662L12.5962 13.4303L12.1152 13.1526C11.9077 13.0327 11.6467 13.0592 11.4673 13.2183C11.1638 13.4878 10.8173 13.6885 10.4375 13.815C10.2101 13.8907 10.0567 14.1034 10.0567 14.3431V14.8965H8.94342V14.3431C8.94342 14.1035 8.79001 13.8907 8.5626 13.815C8.18283 13.6885 7.83634 13.4878 7.53278 13.2183C7.35351 13.0592 7.09248 13.0327 6.88493 13.1526L6.40388 13.4303L5.84724 12.4662L6.32432 12.1908C6.53172 12.071 6.6393 11.832 6.59135 11.5973C6.55157 11.402 6.53135 11.201 6.53135 11C6.53135 10.799 6.55157 10.598 6.59143 10.4027C6.63937 10.168 6.53179 9.92899 6.32439 9.80923L5.84731 9.53381L6.40395 8.56971L6.885 8.84743C7.09255 8.9673 7.35354 8.94084 7.53286 8.78168C7.83641 8.51222 8.1829 8.3115 8.56272 8.18503C8.79009 8.10929 8.9435 7.89654 8.9435 7.65689V7.10352H10.0568V7.65689C10.0568 7.89654 10.2102 8.10929 10.4376 8.18503C10.8174 8.3115 11.1639 8.51222 11.4674 8.78168C11.6467 8.94084 11.9077 8.96726 12.1153 8.84743L12.5963 8.56971L13.153 9.53381L12.6759 9.80923C12.4684 9.92899 12.3608 10.168 12.4088 10.4027Z" fill="#27AE60"/>
                <path d="M9.5 8.95898C8.37458 8.95898 7.45898 9.87458 7.45898 11C7.45898 12.1254 8.37458 13.041 9.5 13.041C10.6254 13.041 11.541 12.1254 11.541 11C11.541 9.87458 10.6254 8.95898 9.5 8.95898ZM9.5 11.9277C8.98845 11.9277 8.57227 11.5116 8.57227 11C8.57227 10.4884 8.98845 10.0723 9.5 10.0723C10.0116 10.0723 10.4277 10.4884 10.4277 11C10.4277 11.5116 10.0116 11.9277 9.5 11.9277Z" fill="#27AE60"/>
                </g>
                </g>
                <defs>
                <clipPath id="clip0">
                <rect width="20" height="20" fill="white" transform="translate(0 0.5)"/>
                </clipPath>
                <clipPath id="clip1">
                <rect width="19" height="19" fill="white" transform="translate(0 1.5)"/>
                </clipPath>
                </defs>
                </svg>
                In progress
          </div>
          {% elif contract.get_status_display == "Completed" %}
          <div class="star-group">
            <div class="stars-wrapper">
              {% for rating in contract.contract_feedback.first.rating|make_list %}
              <svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 0L8.93381 4.33833L13.6574 4.83688L10.129 8.01667L11.1145 12.6631L7 10.29L2.8855 12.6631L3.87102 8.01667L0.342604 4.83688L5.06619 4.33833L7 0Z" fill="#27AE60"/>
                </svg>
                {% endfor %}          
              </div>
              <p class="completed">Completed {{contract.contract_completed_date}}</p>
          </div>
        {% endif %}
        </td>
        <td>
            <div class="name-box">
                <div class="content-box">
                    {% if request.user == contract.created_with %}
                    <p>{{contract.created_by.first_name}} {{contract.created_by.last_name}}</p>
                    <p class="email">{{contract.created_by.email}}</p>
                    {% else %}
                    <p>{{contract.created_with.first_name}} {{contract.created_with.last_name}}</p>
                    <p class="email">{{contract.created_with.email}}</p>
                    {% endif %}
                </div>
                <div class="img-box">
                    {% if request.user == contract.created_with %}
                    <img src="{% if contract.created_by.profile_photo %}{{contract.created_by.profile_photo.url}}{% else %}{% static 'images/profile_img.png' %} {% endif %}" alt="profile" />
                    {% else %}
                    <img src="{% if contract.created_with.profile_photo %}{{contract.created_with.profile_photo.url}}{% else %}{% static 'images/profile_img.png' %} {% endif %}" alt="profile" />
                    {% endif %}
                </div>
            </div>
        </td>
      </tr>
      {% endfor %}
  </tbody>
</table>